/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/quizzes/[id]/route";
exports.ids = ["app/api/quizzes/[id]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Lithium360_Desktop_PROJECTS_EduSphere_src_app_api_quizzes_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/quizzes/[id]/route.ts */ \"(rsc)/./src/app/api/quizzes/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/quizzes/[id]/route\",\n        pathname: \"/api/quizzes/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/quizzes/[id]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Lithium360\\\\Desktop\\\\PROJECTS\\\\EduSphere\\\\src\\\\app\\\\api\\\\quizzes\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Lithium360_Desktop_PROJECTS_EduSphere_src_app_api_quizzes_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZxdWl6emVzJTJGJTVCaWQlNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnF1aXp6ZXMlMkYlNUJpZCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnF1aXp6ZXMlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNMaXRoaXVtMzYwJTVDRGVza3RvcCU1Q1BST0pFQ1RTJTVDRWR1U3BoZXJlJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNMaXRoaXVtMzYwJTVDRGVza3RvcCU1Q1BST0pFQ1RTJTVDRWR1U3BoZXJlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUMyQztBQUN4SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcTGl0aGl1bTM2MFxcXFxEZXNrdG9wXFxcXFBST0pFQ1RTXFxcXEVkdVNwaGVyZVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxxdWl6emVzXFxcXFtpZF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3F1aXp6ZXMvW2lkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3F1aXp6ZXMvW2lkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcXVpenplcy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcTGl0aGl1bTM2MFxcXFxEZXNrdG9wXFxcXFBST0pFQ1RTXFxcXEVkdVNwaGVyZVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxxdWl6emVzXFxcXFtpZF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/quizzes/[id]/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/quizzes/[id]/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_Quiz__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Quiz */ \"(rsc)/./src/models/Quiz.ts\");\n/* harmony import */ var _models_QuizSubmission__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/QuizSubmission */ \"(rsc)/./src/models/QuizSubmission.ts\");\n/* harmony import */ var _models_Course__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/Course */ \"(rsc)/./src/models/Course.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nfunction getJwtSecret() {\n    const secret = process.env.JWT_SECRET;\n    if (!secret) throw new Error('JWT_SECRET is not defined in environment');\n    return secret;\n}\nasync function DELETE(request, { params }) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const authorization = request.headers.get('authorization');\n        if (!authorization || !authorization.startsWith('Bearer ')) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const token = authorization.split(' ')[1];\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default().verify(token, getJwtSecret());\n        const { id } = await params;\n        if (decoded.role !== 'teacher') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Only teachers can delete quizzes'\n            }, {\n                status: 403\n            });\n        }\n        const quiz = await _models_Quiz__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(id);\n        if (!quiz) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Quiz not found'\n            }, {\n                status: 404\n            });\n        }\n        if (quiz.teacher.toString() !== decoded.userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Access denied'\n            }, {\n                status: 403\n            });\n        }\n        await _models_QuizSubmission__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteMany({\n            quiz: id\n        });\n        await _models_Course__WEBPACK_IMPORTED_MODULE_4__[\"default\"].updateMany({\n            quizzes: id\n        }, {\n            $pull: {\n                quizzes: id\n            }\n        });\n        await _models_Quiz__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByIdAndDelete(id);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: 'Quiz deleted successfully'\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error('Error deleting quiz:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request, { params }) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const authorization = request.headers.get('authorization');\n        if (!authorization || !authorization.startsWith('Bearer ')) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const token = authorization.split(' ')[1];\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default().verify(token, getJwtSecret());\n        const { id } = await params;\n        const quiz = await _models_Quiz__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(id).populate('course', 'title subject gradeLevel students').populate('teacher', 'name');\n        if (!quiz) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Quiz not found'\n            }, {\n                status: 404\n            });\n        }\n        if (decoded.role === 'student') {\n            const course = quiz.course;\n            if (!course.students.map(String).includes(String(decoded.userId))) {\n                console.error('Student not enrolled in course:', decoded.userId, course.students);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    message: 'Access denied: not enrolled in course'\n                }, {\n                    status: 403\n                });\n            }\n            let isEligible = true;\n            if (quiz.eligibleStudents && Array.isArray(quiz.eligibleStudents) && quiz.eligibleStudents.length > 0) {\n                isEligible = quiz.eligibleStudents.map(String).includes(String(decoded.userId));\n                if (!isEligible) {\n                    console.error('Student not eligible for retake quiz:', decoded.userId, quiz.eligibleStudents);\n                }\n            }\n            const submission = await _models_QuizSubmission__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOne({\n                quiz: id,\n                student: decoded.userId\n            });\n            const studentQuiz = {\n                _id: quiz._id,\n                title: quiz.title,\n                description: quiz.description,\n                timeLimit: quiz.timeLimit,\n                attempts: quiz.attempts,\n                showResults: quiz.showResults,\n                startDate: quiz.startDate,\n                endDate: quiz.endDate,\n                course: quiz.course,\n                teacher: quiz.teacher,\n                isActive: quiz.isActive,\n                questions: quiz.questions.map((q)=>({\n                        _id: q._id,\n                        question: q.question,\n                        type: q.type,\n                        options: q.options,\n                        points: q.points\n                    })),\n                eligibleStudents: quiz.eligibleStudents\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                quiz: studentQuiz,\n                submission: submission || null,\n                isEligible\n            }, {\n                status: 200\n            });\n        } else if (decoded.role === 'teacher') {\n            if (quiz.teacher._id.toString() !== decoded.userId) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    message: 'Access denied'\n                }, {\n                    status: 403\n                });\n            }\n            const submissions = await _models_QuizSubmission__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n                quiz: id\n            }).populate('student', 'name').sort({\n                submittedAt: -1\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                quiz,\n                submissions\n            }, {\n                status: 200\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Access denied'\n            }, {\n                status: 403\n            });\n        }\n    } catch (error) {\n        console.error('Error fetching quiz:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PATCH(request, { params }) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const authorization = request.headers.get('authorization');\n        if (!authorization || !authorization.startsWith('Bearer ')) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const token = authorization.split(' ')[1];\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default().verify(token, getJwtSecret());\n        const { id } = await params;\n        if (decoded.role !== 'teacher') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Only teachers can update quizzes'\n            }, {\n                status: 403\n            });\n        }\n        const { newTitle, newStartDate, newEndDate, allowRetakeForAll = false, useNewQuestions = false, newQuestions = [] } = await request.json();\n        if (!newTitle || !newStartDate || !newEndDate) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Missing required fields'\n            }, {\n                status: 400\n            });\n        }\n        const quiz = await _models_Quiz__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(id);\n        if (!quiz) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Quiz not found'\n            }, {\n                status: 404\n            });\n        }\n        if (quiz.teacher.toString() !== decoded.userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Access denied'\n            }, {\n                status: 403\n            });\n        }\n        const course = await _models_Course__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findById(quiz.course);\n        if (!course) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Course not found'\n            }, {\n                status: 404\n            });\n        }\n        let eligibleStudents;\n        if (allowRetakeForAll) {\n            eligibleStudents = course.students.map((sid)=>String(sid));\n        } else {\n            const submissions = await _models_QuizSubmission__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n                quiz: id\n            });\n            const studentsWhoSubmitted = submissions.map((s)=>String(s.student));\n            eligibleStudents = course.students.map((sid)=>String(sid)).filter((sid)=>!studentsWhoSubmitted.includes(sid));\n        }\n        let questionsToUse;\n        if (useNewQuestions && Array.isArray(newQuestions) && newQuestions.length > 0) {\n            questionsToUse = newQuestions;\n        } else {\n            questionsToUse = quiz.questions;\n        }\n        const retakeQuiz = await _models_Quiz__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n            title: newTitle,\n            description: quiz.description,\n            timeLimit: quiz.timeLimit,\n            attempts: quiz.attempts,\n            showResults: quiz.showResults,\n            startDate: newStartDate,\n            endDate: newEndDate,\n            course: quiz.course,\n            teacher: quiz.teacher,\n            isActive: true,\n            questions: questionsToUse,\n            eligibleStudents\n        });\n        if (Array.isArray(course.quizzes)) {\n            course.quizzes.push(retakeQuiz._id);\n            await course.save();\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            quiz: retakeQuiz\n        });\n    } catch (error) {\n        console.error('Error creating retake quiz:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: 'Failed to create retake quiz'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aGl1bTM2MFxcRGVza3RvcFxcUFJPSkVDVFNcXEVkdVNwaGVyZVxcc3JjXFxhcHBcXGFwaVxccXVpenplc1xcW2lkXVxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgY29ubmVjdERCIGZyb20gJ0AvbGliL21vbmdvZGInXHJcbmltcG9ydCBRdWl6IGZyb20gJ0AvbW9kZWxzL1F1aXonXHJcbmltcG9ydCBRdWl6U3VibWlzc2lvbiBmcm9tICdAL21vZGVscy9RdWl6U3VibWlzc2lvbidcclxuaW1wb3J0IENvdXJzZSBmcm9tICdAL21vZGVscy9Db3Vyc2UnXHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5cclxuZnVuY3Rpb24gZ2V0Snd0U2VjcmV0KCk6IHN0cmluZyB7XHJcbiAgY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVDtcclxuICBpZiAoIXNlY3JldCkgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIGlzIG5vdCBkZWZpbmVkIGluIGVudmlyb25tZW50Jyk7XHJcbiAgcmV0dXJuIHNlY3JldDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IGlkOiBzdHJpbmcgfT4gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdERCKCk7XHJcblxyXG4gICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKTtcclxuICAgIGlmICghYXV0aG9yaXphdGlvbiB8fCAhYXV0aG9yaXphdGlvbi5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhvcml6YXRpb24uc3BsaXQoJyAnKVsxXTtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBnZXRKd3RTZWNyZXQoKSkgYXMgYW55O1xyXG4gICAgY29uc3QgeyBpZCB9ID0gYXdhaXQgcGFyYW1zO1xyXG5cclxuICAgIGlmIChkZWNvZGVkLnJvbGUgIT09ICd0ZWFjaGVyJykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnT25seSB0ZWFjaGVycyBjYW4gZGVsZXRlIHF1aXp6ZXMnIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcXVpeiA9IGF3YWl0IFF1aXouZmluZEJ5SWQoaWQpO1xyXG4gICAgaWYgKCFxdWl6KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdRdWl6IG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXVpei50ZWFjaGVyLnRvU3RyaW5nKCkgIT09IGRlY29kZWQudXNlcklkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdBY2Nlc3MgZGVuaWVkJyB9LCB7IHN0YXR1czogNDAzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IFF1aXpTdWJtaXNzaW9uLmRlbGV0ZU1hbnkoeyBxdWl6OiBpZCB9KTtcclxuICAgIGF3YWl0IENvdXJzZS51cGRhdGVNYW55KHsgcXVpenplczogaWQgfSwgeyAkcHVsbDogeyBxdWl6emVzOiBpZCB9IH0pO1xyXG4gICAgYXdhaXQgUXVpei5maW5kQnlJZEFuZERlbGV0ZShpZCk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ1F1aXogZGVsZXRlZCBzdWNjZXNzZnVsbHknIH0sIHsgc3RhdHVzOiAyMDAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHF1aXo6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGNvbm5lY3REQigpO1xyXG5cclxuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XHJcbiAgICBpZiAoIWF1dGhvcml6YXRpb24gfHwgIWF1dGhvcml6YXRpb24uc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9rZW4gPSBhdXRob3JpemF0aW9uLnNwbGl0KCcgJylbMV07XHJcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgZ2V0Snd0U2VjcmV0KCkpIGFzIGFueTtcclxuICAgIGNvbnN0IHsgaWQgfSA9IGF3YWl0IHBhcmFtcztcclxuXHJcbiAgICBjb25zdCBxdWl6ID0gYXdhaXQgUXVpei5maW5kQnlJZChpZClcclxuICAgICAgLnBvcHVsYXRlKCdjb3Vyc2UnLCAndGl0bGUgc3ViamVjdCBncmFkZUxldmVsIHN0dWRlbnRzJylcclxuICAgICAgLnBvcHVsYXRlKCd0ZWFjaGVyJywgJ25hbWUnKTtcclxuXHJcbiAgICBpZiAoIXF1aXopIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ1F1aXogbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkZWNvZGVkLnJvbGUgPT09ICdzdHVkZW50Jykge1xyXG4gICAgICBjb25zdCBjb3Vyc2UgPSBxdWl6LmNvdXJzZSBhcyBhbnk7XHJcbiAgICAgIGlmICghY291cnNlLnN0dWRlbnRzLm1hcChTdHJpbmcpLmluY2x1ZGVzKFN0cmluZyhkZWNvZGVkLnVzZXJJZCkpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU3R1ZGVudCBub3QgZW5yb2xsZWQgaW4gY291cnNlOicsIGRlY29kZWQudXNlcklkLCBjb3Vyc2Uuc3R1ZGVudHMpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdBY2Nlc3MgZGVuaWVkOiBub3QgZW5yb2xsZWQgaW4gY291cnNlJyB9LCB7IHN0YXR1czogNDAzIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgaXNFbGlnaWJsZSA9IHRydWU7XHJcbiAgICAgIGlmIChxdWl6LmVsaWdpYmxlU3R1ZGVudHMgJiYgQXJyYXkuaXNBcnJheShxdWl6LmVsaWdpYmxlU3R1ZGVudHMpICYmIHF1aXouZWxpZ2libGVTdHVkZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgaXNFbGlnaWJsZSA9IHF1aXouZWxpZ2libGVTdHVkZW50cy5tYXAoU3RyaW5nKS5pbmNsdWRlcyhTdHJpbmcoZGVjb2RlZC51c2VySWQpKTtcclxuICAgICAgICBpZiAoIWlzRWxpZ2libGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0dWRlbnQgbm90IGVsaWdpYmxlIGZvciByZXRha2UgcXVpejonLCBkZWNvZGVkLnVzZXJJZCwgcXVpei5lbGlnaWJsZVN0dWRlbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN1Ym1pc3Npb24gPSBhd2FpdCBRdWl6U3VibWlzc2lvbi5maW5kT25lKHtcclxuICAgICAgICBxdWl6OiBpZCxcclxuICAgICAgICBzdHVkZW50OiBkZWNvZGVkLnVzZXJJZFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHN0dWRlbnRRdWl6ID0ge1xyXG4gICAgICAgIF9pZDogcXVpei5faWQsXHJcbiAgICAgICAgdGl0bGU6IHF1aXoudGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHF1aXouZGVzY3JpcHRpb24sXHJcbiAgICAgICAgdGltZUxpbWl0OiBxdWl6LnRpbWVMaW1pdCxcclxuICAgICAgICBhdHRlbXB0czogcXVpei5hdHRlbXB0cyxcclxuICAgICAgICBzaG93UmVzdWx0czogcXVpei5zaG93UmVzdWx0cyxcclxuICAgICAgICBzdGFydERhdGU6IHF1aXouc3RhcnREYXRlLFxyXG4gICAgICAgIGVuZERhdGU6IHF1aXouZW5kRGF0ZSxcclxuICAgICAgICBjb3Vyc2U6IHF1aXouY291cnNlLFxyXG4gICAgICAgIHRlYWNoZXI6IHF1aXoudGVhY2hlcixcclxuICAgICAgICBpc0FjdGl2ZTogcXVpei5pc0FjdGl2ZSxcclxuICAgICAgICBxdWVzdGlvbnM6IHF1aXoucXVlc3Rpb25zLm1hcCgocTogYW55KSA9PiAoe1xyXG4gICAgICAgICAgX2lkOiBxLl9pZCxcclxuICAgICAgICAgIHF1ZXN0aW9uOiBxLnF1ZXN0aW9uLFxyXG4gICAgICAgICAgdHlwZTogcS50eXBlLFxyXG4gICAgICAgICAgb3B0aW9uczogcS5vcHRpb25zLFxyXG4gICAgICAgICAgcG9pbnRzOiBxLnBvaW50c1xyXG4gICAgICAgIH0pKSxcclxuICAgICAgICBlbGlnaWJsZVN0dWRlbnRzOiBxdWl6LmVsaWdpYmxlU3R1ZGVudHNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgcXVpejogc3R1ZGVudFF1aXosXHJcbiAgICAgICAgc3VibWlzc2lvbjogc3VibWlzc2lvbiB8fCBudWxsLFxyXG4gICAgICAgIGlzRWxpZ2libGVcclxuICAgICAgfSwgeyBzdGF0dXM6IDIwMCB9KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKGRlY29kZWQucm9sZSA9PT0gJ3RlYWNoZXInKSB7XHJcbiAgICAgIGlmIChxdWl6LnRlYWNoZXIuX2lkLnRvU3RyaW5nKCkgIT09IGRlY29kZWQudXNlcklkKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ0FjY2VzcyBkZW5pZWQnIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN1Ym1pc3Npb25zID0gYXdhaXQgUXVpelN1Ym1pc3Npb24uZmluZCh7IHF1aXo6IGlkIH0pXHJcbiAgICAgICAgLnBvcHVsYXRlKCdzdHVkZW50JywgJ25hbWUnKVxyXG4gICAgICAgIC5zb3J0KHsgc3VibWl0dGVkQXQ6IC0xIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBxdWl6LFxyXG4gICAgICAgIHN1Ym1pc3Npb25zXHJcbiAgICAgIH0sIHsgc3RhdHVzOiAyMDAgfSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ0FjY2VzcyBkZW5pZWQnIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHF1aXo6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IGlkOiBzdHJpbmcgfT4gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdERCKCk7XHJcblxyXG4gICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKTtcclxuICAgIGlmICghYXV0aG9yaXphdGlvbiB8fCAhYXV0aG9yaXphdGlvbi5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhvcml6YXRpb24uc3BsaXQoJyAnKVsxXTtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBnZXRKd3RTZWNyZXQoKSkgYXMgYW55O1xyXG4gICAgY29uc3QgeyBpZCB9ID0gYXdhaXQgcGFyYW1zO1xyXG5cclxuICAgIGlmIChkZWNvZGVkLnJvbGUgIT09ICd0ZWFjaGVyJykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnT25seSB0ZWFjaGVycyBjYW4gdXBkYXRlIHF1aXp6ZXMnIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBuZXdUaXRsZSxcclxuICAgICAgbmV3U3RhcnREYXRlLFxyXG4gICAgICBuZXdFbmREYXRlLFxyXG4gICAgICBhbGxvd1JldGFrZUZvckFsbCA9IGZhbHNlLFxyXG4gICAgICB1c2VOZXdRdWVzdGlvbnMgPSBmYWxzZSxcclxuICAgICAgbmV3UXVlc3Rpb25zID0gW10sXHJcbiAgICB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcblxyXG4gICAgaWYgKCFuZXdUaXRsZSB8fCAhbmV3U3RhcnREYXRlIHx8ICFuZXdFbmREYXRlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBxdWl6ID0gYXdhaXQgUXVpei5maW5kQnlJZChpZCk7XHJcbiAgICBpZiAoIXF1aXopIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ1F1aXogbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChxdWl6LnRlYWNoZXIudG9TdHJpbmcoKSAhPT0gZGVjb2RlZC51c2VySWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ0FjY2VzcyBkZW5pZWQnIH0sIHsgc3RhdHVzOiA0MDMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY291cnNlID0gYXdhaXQgQ291cnNlLmZpbmRCeUlkKHF1aXouY291cnNlKTtcclxuICAgIGlmICghY291cnNlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdDb3Vyc2Ugbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBlbGlnaWJsZVN0dWRlbnRzOiBzdHJpbmdbXTtcclxuICAgIGlmIChhbGxvd1JldGFrZUZvckFsbCkge1xyXG4gICAgICBlbGlnaWJsZVN0dWRlbnRzID0gY291cnNlLnN0dWRlbnRzLm1hcCgoc2lkOiBhbnkpID0+IFN0cmluZyhzaWQpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN1Ym1pc3Npb25zID0gYXdhaXQgUXVpelN1Ym1pc3Npb24uZmluZCh7IHF1aXo6IGlkIH0pO1xyXG4gICAgICBjb25zdCBzdHVkZW50c1dob1N1Ym1pdHRlZCA9IHN1Ym1pc3Npb25zLm1hcCgoczogYW55KSA9PiBTdHJpbmcocy5zdHVkZW50KSk7XHJcbiAgICAgIGVsaWdpYmxlU3R1ZGVudHMgPSBjb3Vyc2Uuc3R1ZGVudHNcclxuICAgICAgICAubWFwKChzaWQ6IGFueSkgPT4gU3RyaW5nKHNpZCkpXHJcbiAgICAgICAgLmZpbHRlcigoc2lkOiBzdHJpbmcpID0+ICFzdHVkZW50c1dob1N1Ym1pdHRlZC5pbmNsdWRlcyhzaWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcXVlc3Rpb25zVG9Vc2U7XHJcbiAgICBpZiAodXNlTmV3UXVlc3Rpb25zICYmIEFycmF5LmlzQXJyYXkobmV3UXVlc3Rpb25zKSAmJiBuZXdRdWVzdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBxdWVzdGlvbnNUb1VzZSA9IG5ld1F1ZXN0aW9ucztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHF1ZXN0aW9uc1RvVXNlID0gcXVpei5xdWVzdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmV0YWtlUXVpeiA9IGF3YWl0IFF1aXouY3JlYXRlKHtcclxuICAgICAgdGl0bGU6IG5ld1RpdGxlLFxyXG4gICAgICBkZXNjcmlwdGlvbjogcXVpei5kZXNjcmlwdGlvbixcclxuICAgICAgdGltZUxpbWl0OiBxdWl6LnRpbWVMaW1pdCxcclxuICAgICAgYXR0ZW1wdHM6IHF1aXouYXR0ZW1wdHMsXHJcbiAgICAgIHNob3dSZXN1bHRzOiBxdWl6LnNob3dSZXN1bHRzLFxyXG4gICAgICBzdGFydERhdGU6IG5ld1N0YXJ0RGF0ZSxcclxuICAgICAgZW5kRGF0ZTogbmV3RW5kRGF0ZSxcclxuICAgICAgY291cnNlOiBxdWl6LmNvdXJzZSxcclxuICAgICAgdGVhY2hlcjogcXVpei50ZWFjaGVyLFxyXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcclxuICAgICAgcXVlc3Rpb25zOiBxdWVzdGlvbnNUb1VzZSxcclxuICAgICAgZWxpZ2libGVTdHVkZW50cyxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvdXJzZS5xdWl6emVzKSkge1xyXG4gICAgICBjb3Vyc2UucXVpenplcy5wdXNoKHJldGFrZVF1aXouX2lkKTtcclxuICAgICAgYXdhaXQgY291cnNlLnNhdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBxdWl6OiByZXRha2VRdWl6IH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyByZXRha2UgcXVpejonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGNyZWF0ZSByZXRha2UgcXVpeicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY29ubmVjdERCIiwiUXVpeiIsIlF1aXpTdWJtaXNzaW9uIiwiQ291cnNlIiwiand0IiwiZ2V0Snd0U2VjcmV0Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJFcnJvciIsIkRFTEVURSIsInJlcXVlc3QiLCJwYXJhbXMiLCJhdXRob3JpemF0aW9uIiwiaGVhZGVycyIsImdldCIsInN0YXJ0c1dpdGgiLCJqc29uIiwibWVzc2FnZSIsInN0YXR1cyIsInRva2VuIiwic3BsaXQiLCJkZWNvZGVkIiwidmVyaWZ5IiwiaWQiLCJyb2xlIiwicXVpeiIsImZpbmRCeUlkIiwidGVhY2hlciIsInRvU3RyaW5nIiwidXNlcklkIiwiZGVsZXRlTWFueSIsInVwZGF0ZU1hbnkiLCJxdWl6emVzIiwiJHB1bGwiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImVycm9yIiwiY29uc29sZSIsIkdFVCIsInBvcHVsYXRlIiwiY291cnNlIiwic3R1ZGVudHMiLCJtYXAiLCJTdHJpbmciLCJpbmNsdWRlcyIsImlzRWxpZ2libGUiLCJlbGlnaWJsZVN0dWRlbnRzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwic3VibWlzc2lvbiIsImZpbmRPbmUiLCJzdHVkZW50Iiwic3R1ZGVudFF1aXoiLCJfaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGltZUxpbWl0IiwiYXR0ZW1wdHMiLCJzaG93UmVzdWx0cyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJpc0FjdGl2ZSIsInF1ZXN0aW9ucyIsInEiLCJxdWVzdGlvbiIsInR5cGUiLCJvcHRpb25zIiwicG9pbnRzIiwic3VibWlzc2lvbnMiLCJmaW5kIiwic29ydCIsInN1Ym1pdHRlZEF0IiwiUEFUQ0giLCJuZXdUaXRsZSIsIm5ld1N0YXJ0RGF0ZSIsIm5ld0VuZERhdGUiLCJhbGxvd1JldGFrZUZvckFsbCIsInVzZU5ld1F1ZXN0aW9ucyIsIm5ld1F1ZXN0aW9ucyIsInNpZCIsInN0dWRlbnRzV2hvU3VibWl0dGVkIiwicyIsImZpbHRlciIsInF1ZXN0aW9uc1RvVXNlIiwicmV0YWtlUXVpeiIsImNyZWF0ZSIsInB1c2giLCJzYXZlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/quizzes/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nlet cached = global.mongoose || {\n    conn: null,\n    promise: null\n};\nif (!global.mongoose) {\n    global.mongoose = cached;\n}\nasync function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGODB_URI, opts);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBVy9CLElBQUlDLFNBQXdCQyxPQUFPRixRQUFRLElBQUk7SUFBRUcsTUFBTTtJQUFNQyxTQUFTO0FBQUs7QUFFM0UsSUFBSSxDQUFDRixPQUFPRixRQUFRLEVBQUU7SUFDcEJFLE9BQU9GLFFBQVEsR0FBR0M7QUFDcEI7QUFFQSxlQUFlSTtJQUNiLElBQUlKLE9BQU9FLElBQUksRUFBRTtRQUNmLE9BQU9GLE9BQU9FLElBQUk7SUFDcEI7SUFFQSxJQUFJLENBQUNGLE9BQU9HLE9BQU8sRUFBRTtRQUNuQixNQUFNRSxPQUFPO1lBQ1hDLGdCQUFnQjtRQUNsQjtRQUVBTixPQUFPRyxPQUFPLEdBQUdKLHVEQUFnQixDQUFDUyxRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBR0w7SUFDOUQ7SUFFQUwsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDbEMsT0FBT0gsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXExpdGhpdW0zNjBcXERlc2t0b3BcXFBST0pFQ1RTXFxFZHVTcGhlcmVcXHNyY1xcbGliXFxtb25nb2RiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuXHJcbmludGVyZmFjZSBNb25nb29zZUNhY2hlIHtcclxuICBjb25uOiB0eXBlb2YgbW9uZ29vc2UgfCBudWxsXHJcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbFxyXG59XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgdmFyIG1vbmdvb3NlOiBNb25nb29zZUNhY2hlIHwgdW5kZWZpbmVkXHJcbn1cclxuXHJcbmxldCBjYWNoZWQ6IE1vbmdvb3NlQ2FjaGUgPSBnbG9iYWwubW9uZ29vc2UgfHwgeyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH1cclxuXHJcbmlmICghZ2xvYmFsLm1vbmdvb3NlKSB7XHJcbiAgZ2xvYmFsLm1vbmdvb3NlID0gY2FjaGVkXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfVxyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSSSEsIG9wdHMpXHJcbiAgfVxyXG5cclxuICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REQlxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3REQiIsIm9wdHMiLCJidWZmZXJDb21tYW5kcyIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Course.ts":
/*!******************************!*\
  !*** ./src/models/Course.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CourseSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    description: {\n        type: String,\n        required: true\n    },\n    subject: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    gradeLevel: {\n        type: String,\n        enum: [\n            'Class 1',\n            'Class 2',\n            'Class 3',\n            'Class 4',\n            'Class 5',\n            'Class 6',\n            'JHS 1',\n            'JHS 2',\n            'JHS 3',\n            'SHS 1',\n            'SHS 2',\n            'SHS 3'\n        ],\n        required: true\n    },\n    teacher: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'User',\n        required: true\n    },\n    students: [\n        {\n            // Grading scheme fields\n            assignmentWeight: {\n                type: Number,\n                default: 70,\n                min: 0,\n                max: 100\n            },\n            quizWeight: {\n                type: Number,\n                default: 30,\n                min: 0,\n                max: 100\n            },\n            gradeRanges: {\n                type: [\n                    {\n                        min: {\n                            type: Number,\n                            required: true\n                        },\n                        max: {\n                            type: Number,\n                            required: true\n                        },\n                        grade: {\n                            type: String,\n                            required: true\n                        }\n                    }\n                ],\n                default: [\n                    {\n                        min: 80,\n                        max: 100,\n                        grade: 'A'\n                    },\n                    {\n                        min: 70,\n                        max: 79,\n                        grade: 'B'\n                    },\n                    {\n                        min: 60,\n                        max: 69,\n                        grade: 'C'\n                    },\n                    {\n                        min: 50,\n                        max: 59,\n                        grade: 'D'\n                    },\n                    {\n                        min: 0,\n                        max: 49,\n                        grade: 'F'\n                    }\n                ]\n            },\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'User'\n        }\n    ],\n    assignments: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'Assignment'\n        }\n    ],\n    quizzes: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'Quiz'\n        }\n    ],\n    resources: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'Resource'\n        }\n    ],\n    announcements: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'Announcement'\n        }\n    ],\n    enrollmentCode: {\n        type: String,\n        required: true,\n        unique: true,\n        uppercase: true,\n        default: function() {\n            return Math.random().toString(36).substring(2, 8).toUpperCase();\n        }\n    },\n    maxStudents: {\n        type: Number,\n        default: 30,\n        min: 1,\n        max: 100\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    }\n}, {\n    timestamps: true\n});\n// Ensure unique enrollmentCode before saving\nCourseSchema.pre('validate', async function(next) {\n    // @ts-ignore\n    if (!this.enrollmentCode) {\n        let code = '';\n        let exists = true;\n        let tries = 0;\n        while(exists && tries < 10){\n            code = Math.random().toString(36).substring(2, 8).toUpperCase();\n            exists = !!await mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Course.exists({\n                enrollmentCode: code\n            });\n            tries++;\n        }\n        if (exists) {\n            return next(new Error('Could not generate unique enrollment code'));\n        }\n        // @ts-ignore\n        this.enrollmentCode = code;\n    }\n    next();\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Course || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Course', CourseSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsSUFBSSxDQUFDYixjQUFjLEVBQUU7UUFDeEIsSUFBSWMsT0FBZTtRQUNuQixJQUFJQyxTQUFTO1FBQ2IsSUFBSUMsUUFBUTtRQUNaLE1BQU9ELFVBQVVDLFFBQVEsR0FBSTtZQUMzQkYsT0FBT1gsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDLEdBQUcsR0FBR0MsV0FBVztZQUM3RFEsU0FBUyxDQUFDLENBQUUsTUFBTTVDLHNEQUFlLENBQUMrQyxNQUFNLENBQUNILE1BQU0sQ0FBQztnQkFBRWYsZ0JBQWdCYztZQUFLO1lBQ3ZFRTtRQUNGO1FBQ0EsSUFBSUQsUUFBUTtZQUNWLE9BQU9GLEtBQUssSUFBSU0sTUFBTTtRQUN4QjtRQUNBLGFBQWE7UUFDYixJQUFJLENBQUNuQixjQUFjLEdBQUdjO0lBQ3hCO0lBQ0FEO0FBQ0Y7QUFFQSxpRUFBZTFDLHdEQUFlLENBQUMrQyxNQUFNLElBQUkvQyxxREFBYyxDQUFVLFVBQVVFLGFBQWFBLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTGl0aGl1bTM2MFxcRGVza3RvcFxcUFJPSkVDVFNcXEVkdVNwaGVyZVxcc3JjXFxtb2RlbHNcXENvdXJzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ291cnNlIGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIHRpdGxlOiBzdHJpbmcgLy8gZS5nLiwgXCJNYXRoZW1hdGljcyAtIENsYXNzIDVcIlxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICBzdWJqZWN0OiBzdHJpbmcgLy8gZS5nLiwgXCJNYXRoZW1hdGljc1wiLCBcIkVuZ2xpc2hcIiwgXCJTY2llbmNlXCJcclxuICBncmFkZUxldmVsOiBzdHJpbmcgLy8gZS5nLiwgXCJDbGFzcyA1XCIsIFwiSkhTIDJcIiwgXCJTSFMgMVwiXHJcbiAgdGVhY2hlcjogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRcclxuICBzdHVkZW50czogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXSAvLyBFbnJvbGxlZCBzdHVkZW50c1xyXG4gIGFzc2lnbm1lbnRzOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZFtdXHJcbiAgcXVpenplczogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXVxyXG4gIHJlc291cmNlczogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXVxyXG4gIGFubm91bmNlbWVudHM6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkW11cclxuICBlbnJvbGxtZW50Q29kZTogc3RyaW5nIC8vIFVuaXF1ZSBjb3Vyc2UgY29kZSBmb3IgZW5yb2xsbWVudFxyXG4gIG1heFN0dWRlbnRzOiBudW1iZXIgLy8gTWF4aW11bSBudW1iZXIgb2Ygc3R1ZGVudHNcclxuICBpc0FjdGl2ZTogYm9vbGVhblxyXG4gIC8vIEdyYWRpbmcgc2NoZW1lIGZpZWxkc1xyXG4gIGFzc2lnbm1lbnRXZWlnaHQ/OiBudW1iZXIgLy8gZS5nLiwgNzAgKGZvciA3MCUpXHJcbiAgcXVpeldlaWdodD86IG51bWJlciAvLyBlLmcuLCAzMCAoZm9yIDMwJSlcclxuICBncmFkZVJhbmdlcz86IHsgbWluOiBudW1iZXI7IG1heDogbnVtYmVyOyBncmFkZTogc3RyaW5nIH1bXSAvLyBlLmcuLCBbe21pbjo4MCxtYXg6MTAwLGdyYWRlOidBJ31dXHJcbiAgY3JlYXRlZEF0OiBEYXRlXHJcbiAgdXBkYXRlZEF0OiBEYXRlXHJcbn1cclxuXHJcbmNvbnN0IENvdXJzZVNjaGVtYSA9IG5ldyBTY2hlbWE8SUNvdXJzZT4oe1xyXG4gIHRpdGxlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHRyaW06IHRydWVcclxuICB9LFxyXG4gIGRlc2NyaXB0aW9uOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgc3ViamVjdDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB0cmltOiB0cnVlXHJcbiAgfSxcclxuICBncmFkZUxldmVsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ0NsYXNzIDEnLCAnQ2xhc3MgMicsICdDbGFzcyAzJywgJ0NsYXNzIDQnLCAnQ2xhc3MgNScsICdDbGFzcyA2JyxcclxuICAgICAgICAgICAnSkhTIDEnLCAnSkhTIDInLCAnSkhTIDMnLCAnU0hTIDEnLCAnU0hTIDInLCAnU0hTIDMnXSxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICB0ZWFjaGVyOiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzdHVkZW50czogW3tcclxuICAvLyBHcmFkaW5nIHNjaGVtZSBmaWVsZHNcclxuICBhc3NpZ25tZW50V2VpZ2h0OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiA3MCwgLy8gRGVmYXVsdCA3MCVcclxuICAgIG1pbjogMCxcclxuICAgIG1heDogMTAwXHJcbiAgfSxcclxuICBxdWl6V2VpZ2h0OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAzMCwgLy8gRGVmYXVsdCAzMCVcclxuICAgIG1pbjogMCxcclxuICAgIG1heDogMTAwXHJcbiAgfSxcclxuICBncmFkZVJhbmdlczoge1xyXG4gICAgdHlwZTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgbWluOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBtYXg6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIGdyYWRlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxyXG4gICAgICB9XHJcbiAgICBdLFxyXG4gICAgZGVmYXVsdDogW1xyXG4gICAgICB7IG1pbjogODAsIG1heDogMTAwLCBncmFkZTogJ0EnIH0sXHJcbiAgICAgIHsgbWluOiA3MCwgbWF4OiA3OSwgZ3JhZGU6ICdCJyB9LFxyXG4gICAgICB7IG1pbjogNjAsIG1heDogNjksIGdyYWRlOiAnQycgfSxcclxuICAgICAgeyBtaW46IDUwLCBtYXg6IDU5LCBncmFkZTogJ0QnIH0sXHJcbiAgICAgIHsgbWluOiAwLCBtYXg6IDQ5LCBncmFkZTogJ0YnIH1cclxuICAgIF1cclxuICB9LFxyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcidcclxuICB9XSxcclxuICBhc3NpZ25tZW50czogW3tcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ0Fzc2lnbm1lbnQnXHJcbiAgfV0sXHJcbiAgcXVpenplczogW3tcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1F1aXonXHJcbiAgfV0sXHJcbiAgcmVzb3VyY2VzOiBbe1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnUmVzb3VyY2UnXHJcbiAgfV0sXHJcbiAgYW5ub3VuY2VtZW50czogW3tcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ0Fubm91bmNlbWVudCdcclxuICB9XSxcclxuICBlbnJvbGxtZW50Q29kZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB1bmlxdWU6IHRydWUsXHJcbiAgICB1cHBlcmNhc2U6IHRydWUsXHJcbiAgICBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCkudG9VcHBlckNhc2UoKTtcclxuICAgIH1cclxuICB9LFxyXG4gIG1heFN0dWRlbnRzOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAzMCxcclxuICAgIG1pbjogMSxcclxuICAgIG1heDogMTAwXHJcbiAgfSxcclxuICBpc0FjdGl2ZToge1xyXG4gICAgdHlwZTogQm9vbGVhbixcclxuICAgIGRlZmF1bHQ6IHRydWVcclxuICB9XHJcblxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZVxyXG59KVxyXG5cclxuXHJcbi8vIEVuc3VyZSB1bmlxdWUgZW5yb2xsbWVudENvZGUgYmVmb3JlIHNhdmluZ1xyXG5Db3Vyc2VTY2hlbWEucHJlKCd2YWxpZGF0ZScsIGFzeW5jIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIGlmICghdGhpcy5lbnJvbGxtZW50Q29kZSkge1xyXG4gICAgbGV0IGNvZGU6IHN0cmluZyA9ICcnO1xyXG4gICAgbGV0IGV4aXN0cyA9IHRydWU7XHJcbiAgICBsZXQgdHJpZXMgPSAwO1xyXG4gICAgd2hpbGUgKGV4aXN0cyAmJiB0cmllcyA8IDEwKSB7XHJcbiAgICAgIGNvZGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCkudG9VcHBlckNhc2UoKTtcclxuICAgICAgZXhpc3RzID0gISEoYXdhaXQgbW9uZ29vc2UubW9kZWxzLkNvdXJzZS5leGlzdHMoeyBlbnJvbGxtZW50Q29kZTogY29kZSB9KSk7XHJcbiAgICAgIHRyaWVzKys7XHJcbiAgICB9XHJcbiAgICBpZiAoZXhpc3RzKSB7XHJcbiAgICAgIHJldHVybiBuZXh0KG5ldyBFcnJvcignQ291bGQgbm90IGdlbmVyYXRlIHVuaXF1ZSBlbnJvbGxtZW50IGNvZGUnKSk7XHJcbiAgICB9XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB0aGlzLmVucm9sbG1lbnRDb2RlID0gY29kZTtcclxuICB9XHJcbiAgbmV4dCgpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Db3Vyc2UgfHwgbW9uZ29vc2UubW9kZWw8SUNvdXJzZT4oJ0NvdXJzZScsIENvdXJzZVNjaGVtYSlcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiQ291cnNlU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwiZGVzY3JpcHRpb24iLCJzdWJqZWN0IiwiZ3JhZGVMZXZlbCIsImVudW0iLCJ0ZWFjaGVyIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInN0dWRlbnRzIiwiYXNzaWdubWVudFdlaWdodCIsIk51bWJlciIsImRlZmF1bHQiLCJtaW4iLCJtYXgiLCJxdWl6V2VpZ2h0IiwiZ3JhZGVSYW5nZXMiLCJncmFkZSIsImFzc2lnbm1lbnRzIiwicXVpenplcyIsInJlc291cmNlcyIsImFubm91bmNlbWVudHMiLCJlbnJvbGxtZW50Q29kZSIsInVuaXF1ZSIsInVwcGVyY2FzZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInRvVXBwZXJDYXNlIiwibWF4U3R1ZGVudHMiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsImNvZGUiLCJleGlzdHMiLCJ0cmllcyIsIm1vZGVscyIsIkNvdXJzZSIsIkVycm9yIiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Course.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Quiz.ts":
/*!****************************!*\
  !*** ./src/models/Quiz.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst QuizSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    description: {\n        type: String,\n        default: ''\n    },\n    course: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'Course',\n        required: true\n    },\n    teacher: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'User',\n        required: true\n    },\n    questions: [\n        {\n            question: {\n                type: String,\n                required: true\n            },\n            type: {\n                type: String,\n                enum: [\n                    'multiple-choice',\n                    'true-false',\n                    'short-answer'\n                ],\n                required: true\n            },\n            options: [\n                {\n                    type: String\n                }\n            ],\n            correctAnswer: {\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                required: true\n            },\n            points: {\n                type: Number,\n                required: true,\n                min: 0\n            }\n        }\n    ],\n    timeLimit: {\n        type: Number,\n        required: true,\n        min: 1\n    },\n    attempts: {\n        type: Number,\n        default: 1,\n        min: 1,\n        max: 999,\n        required: true\n    },\n    showResults: {\n        type: String,\n        enum: [\n            'immediately',\n            'after-deadline',\n            'manual'\n        ],\n        default: 'after-deadline'\n    },\n    startDate: {\n        type: Date,\n        required: true\n    },\n    endDate: {\n        type: Date,\n        required: true\n    },\n    submissions: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'QuizSubmission'\n        }\n    ],\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    eligibleStudents: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: 'User',\n            required: false\n        }\n    ]\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Quiz || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Quiz', QuizSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1F1aXoudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBMkJyRCxNQUFNRSxhQUFhLElBQUlELDRDQUFNQSxDQUFRO0lBQ25DRSxPQUFPO1FBQ0xDLE1BQU1DO1FBQ05DLFVBQVU7UUFDVkMsTUFBTTtJQUNSO0lBQ0FDLGFBQWE7UUFDWEosTUFBTUM7UUFDTkksU0FBUztJQUNYO0lBQ0FDLFFBQVE7UUFDTk4sTUFBTUgsNENBQU1BLENBQUNVLEtBQUssQ0FBQ0MsUUFBUTtRQUMzQkMsS0FBSztRQUNMUCxVQUFVO0lBQ1o7SUFDQVEsU0FBUztRQUNQVixNQUFNSCw0Q0FBTUEsQ0FBQ1UsS0FBSyxDQUFDQyxRQUFRO1FBQzNCQyxLQUFLO1FBQ0xQLFVBQVU7SUFDWjtJQUNBUyxXQUFXO1FBQUM7WUFDVkMsVUFBVTtnQkFDUlosTUFBTUM7Z0JBQ05DLFVBQVU7WUFDWjtZQUNBRixNQUFNO2dCQUNKQSxNQUFNQztnQkFDTlksTUFBTTtvQkFBQztvQkFBbUI7b0JBQWM7aUJBQWU7Z0JBQ3ZEWCxVQUFVO1lBQ1o7WUFDQVksU0FBUztnQkFBQztvQkFDUmQsTUFBTUM7Z0JBQ1I7YUFBRTtZQUNGYyxlQUFlO2dCQUNiZixNQUFNSCw0Q0FBTUEsQ0FBQ1UsS0FBSyxDQUFDUyxLQUFLO2dCQUN4QmQsVUFBVTtZQUNaO1lBQ0FlLFFBQVE7Z0JBQ05qQixNQUFNa0I7Z0JBQ05oQixVQUFVO2dCQUNWaUIsS0FBSztZQUNQO1FBQ0Y7S0FBRTtJQUNGQyxXQUFXO1FBQ1RwQixNQUFNa0I7UUFDTmhCLFVBQVU7UUFDVmlCLEtBQUs7SUFDUDtJQUNBRSxVQUFVO1FBQ1JyQixNQUFNa0I7UUFDTmIsU0FBUztRQUNUYyxLQUFLO1FBQ0xHLEtBQUs7UUFDTHBCLFVBQVU7SUFDWjtJQUNBcUIsYUFBYTtRQUNYdkIsTUFBTUM7UUFDTlksTUFBTTtZQUFDO1lBQWU7WUFBa0I7U0FBUztRQUNqRFIsU0FBUztJQUNYO0lBQ0FtQixXQUFXO1FBQ1R4QixNQUFNeUI7UUFDTnZCLFVBQVU7SUFDWjtJQUNBd0IsU0FBUztRQUNQMUIsTUFBTXlCO1FBQ052QixVQUFVO0lBQ1o7SUFDQXlCLGFBQWE7UUFBQztZQUNaM0IsTUFBTUgsNENBQU1BLENBQUNVLEtBQUssQ0FBQ0MsUUFBUTtZQUMzQkMsS0FBSztRQUNQO0tBQUU7SUFDRm1CLFVBQVU7UUFDUjVCLE1BQU02QjtRQUNOeEIsU0FBUztJQUNYO0lBQ0F5QixrQkFBa0I7UUFBQztZQUNqQjlCLE1BQU1ILDRDQUFNQSxDQUFDVSxLQUFLLENBQUNDLFFBQVE7WUFDM0JDLEtBQUs7WUFDTFAsVUFBVTtRQUNaO0tBQUU7QUFDSixHQUFHO0lBQ0Q2QixZQUFZO0FBQ2Q7QUFFQSxpRUFBZW5DLHdEQUFlLENBQUNxQyxJQUFJLElBQUlyQyxxREFBYyxDQUFRLFFBQVFFLFdBQVdBLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTGl0aGl1bTM2MFxcRGVza3RvcFxcUFJPSkVDVFNcXEVkdVNwaGVyZVxcc3JjXFxtb2RlbHNcXFF1aXoudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IENvdXJzZSBmcm9tICcuL0NvdXJzZSdcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVF1aXogZXh0ZW5kcyBEb2N1bWVudCB7XHJcbiAgdGl0bGU6IHN0cmluZ1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICBjb3Vyc2U6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkXHJcbiAgdGVhY2hlcjogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRcclxuICBxdWVzdGlvbnM6IHtcclxuICAgIHF1ZXN0aW9uOiBzdHJpbmdcclxuICAgIHR5cGU6ICdtdWx0aXBsZS1jaG9pY2UnIHwgJ3RydWUtZmFsc2UnIHwgJ3Nob3J0LWFuc3dlcidcclxuICAgIG9wdGlvbnM/OiBzdHJpbmdbXVxyXG4gICAgY29ycmVjdEFuc3dlcjogc3RyaW5nIHwgc3RyaW5nW11cclxuICAgIHBvaW50czogbnVtYmVyXHJcbiAgfVtdXHJcbiAgdGltZUxpbWl0OiBudW1iZXIgLy8gaW4gbWludXRlc1xyXG4gIGF0dGVtcHRzOiBudW1iZXJcclxuICBzaG93UmVzdWx0czogJ2ltbWVkaWF0ZWx5JyB8ICdhZnRlci1kZWFkbGluZScgfCAnbWFudWFsJ1xyXG4gIHN0YXJ0RGF0ZTogRGF0ZVxyXG4gIGVuZERhdGU6IERhdGVcclxuICBzdWJtaXNzaW9uczogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXVxyXG4gIGlzQWN0aXZlOiBib29sZWFuXHJcbiAgZWxpZ2libGVTdHVkZW50cz86IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkW11cclxuICBjcmVhdGVkQXQ6IERhdGVcclxuICB1cGRhdGVkQXQ6IERhdGVcclxufVxyXG5cclxuY29uc3QgUXVpelNjaGVtYSA9IG5ldyBTY2hlbWE8SVF1aXo+KHtcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB0cmltOiB0cnVlXHJcbiAgfSxcclxuICBkZXNjcmlwdGlvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogJydcclxuICB9LFxyXG4gIGNvdXJzZToge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnQ291cnNlJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICB0ZWFjaGVyOiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBxdWVzdGlvbnM6IFt7XHJcbiAgICBxdWVzdGlvbjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgdHlwZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsnbXVsdGlwbGUtY2hvaWNlJywgJ3RydWUtZmFsc2UnLCAnc2hvcnQtYW5zd2VyJ10sXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgb3B0aW9uczogW3tcclxuICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9XSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IHtcclxuICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk1peGVkLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHBvaW50czoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICBtaW46IDBcclxuICAgIH1cclxuICB9XSxcclxuICB0aW1lTGltaXQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgbWluOiAxXHJcbiAgfSxcclxuICBhdHRlbXB0czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICAgIG1pbjogMSxcclxuICAgIG1heDogOTk5LFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIHNob3dSZXN1bHRzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ2ltbWVkaWF0ZWx5JywgJ2FmdGVyLWRlYWRsaW5lJywgJ21hbnVhbCddLFxyXG4gICAgZGVmYXVsdDogJ2FmdGVyLWRlYWRsaW5lJ1xyXG4gIH0sXHJcbiAgc3RhcnREYXRlOiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIGVuZERhdGU6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgc3VibWlzc2lvbnM6IFt7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdRdWl6U3VibWlzc2lvbidcclxuICB9XSxcclxuICBpc0FjdGl2ZToge1xyXG4gICAgdHlwZTogQm9vbGVhbixcclxuICAgIGRlZmF1bHQ6IHRydWVcclxuICB9LFxyXG4gIGVsaWdpYmxlU3R1ZGVudHM6IFt7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gIH1dXHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUXVpeiB8fCBtb25nb29zZS5tb2RlbDxJUXVpej4oJ1F1aXonLCBRdWl6U2NoZW1hKVxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJRdWl6U2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwiZGVzY3JpcHRpb24iLCJkZWZhdWx0IiwiY291cnNlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInRlYWNoZXIiLCJxdWVzdGlvbnMiLCJxdWVzdGlvbiIsImVudW0iLCJvcHRpb25zIiwiY29ycmVjdEFuc3dlciIsIk1peGVkIiwicG9pbnRzIiwiTnVtYmVyIiwibWluIiwidGltZUxpbWl0IiwiYXR0ZW1wdHMiLCJtYXgiLCJzaG93UmVzdWx0cyIsInN0YXJ0RGF0ZSIsIkRhdGUiLCJlbmREYXRlIiwic3VibWlzc2lvbnMiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJlbGlnaWJsZVN0dWRlbnRzIiwidGltZXN0YW1wcyIsIm1vZGVscyIsIlF1aXoiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Quiz.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/QuizSubmission.ts":
/*!**************************************!*\
  !*** ./src/models/QuizSubmission.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst QuizSubmissionSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    quiz: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'Quiz',\n        required: true\n    },\n    student: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'User',\n        required: true\n    },\n    answers: [\n        {\n            questionIndex: {\n                type: Number,\n                required: true\n            },\n            answer: {\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                required: true\n            }\n        }\n    ],\n    score: {\n        type: Number,\n        default: 0\n    },\n    maxScore: {\n        type: Number,\n        required: true\n    },\n    timeSpent: {\n        type: Number,\n        required: true\n    },\n    submittedAt: {\n        type: Date,\n        default: Date.now\n    },\n    isGraded: {\n        type: Boolean,\n        default: false\n    },\n    feedback: {\n        type: String\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).QuizSubmission || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('QuizSubmission', QuizSubmissionSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1F1aXpTdWJtaXNzaW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUNxRDtBQW9CckQsTUFBTUUsdUJBQXVCLElBQUlELDRDQUFNQSxDQUFrQjtJQUN2REUsTUFBTTtRQUNKQyxNQUFNSCw0Q0FBTUEsQ0FBQ0ksS0FBSyxDQUFDQyxRQUFRO1FBQzNCQyxLQUFLO1FBQ0xDLFVBQVU7SUFDWjtJQUNBQyxTQUFTO1FBQ1BMLE1BQU1ILDRDQUFNQSxDQUFDSSxLQUFLLENBQUNDLFFBQVE7UUFDM0JDLEtBQUs7UUFDTEMsVUFBVTtJQUNaO0lBQ0FFLFNBQVM7UUFBQztZQUNSQyxlQUFlO2dCQUNiUCxNQUFNUTtnQkFDTkosVUFBVTtZQUNaO1lBQ0FLLFFBQVE7Z0JBQ05ULE1BQU1ILDRDQUFNQSxDQUFDSSxLQUFLLENBQUNTLEtBQUs7Z0JBQ3hCTixVQUFVO1lBQ1o7UUFDRjtLQUFFO0lBQ0ZPLE9BQU87UUFDTFgsTUFBTVE7UUFDTkksU0FBUztJQUNYO0lBQ0FDLFVBQVU7UUFDUmIsTUFBTVE7UUFDTkosVUFBVTtJQUNaO0lBQ0FVLFdBQVc7UUFDVGQsTUFBTVE7UUFDTkosVUFBVTtJQUNaO0lBQ0FXLGFBQWE7UUFDWGYsTUFBTWdCO1FBQ05KLFNBQVNJLEtBQUtDLEdBQUc7SUFDbkI7SUFDQUMsVUFBVTtRQUNSbEIsTUFBTW1CO1FBQ05QLFNBQVM7SUFDWDtJQUNBUSxVQUFVO1FBQ1JwQixNQUFNcUI7SUFDUjtBQUNGLEdBQUc7SUFDREMsWUFBWTtBQUNkO0FBRUEsaUVBQWUxQix3REFBZSxDQUFDNEIsY0FBYyxJQUFJNUIscURBQWMsQ0FBa0Isa0JBQWtCRSxxQkFBcUJBLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTGl0aGl1bTM2MFxcRGVza3RvcFxcUFJPSkVDVFNcXEVkdVNwaGVyZVxcc3JjXFxtb2RlbHNcXFF1aXpTdWJtaXNzaW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5pbXBvcnQgUXVpeiBmcm9tICcuL1F1aXonXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElRdWl6U3VibWlzc2lvbiBleHRlbmRzIERvY3VtZW50IHtcclxuICBxdWl6OiBtb25nb29zZS5UeXBlcy5PYmplY3RJZFxyXG4gIHN0dWRlbnQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkXHJcbiAgYW5zd2Vyczoge1xyXG4gICAgcXVlc3Rpb25JbmRleDogbnVtYmVyXHJcbiAgICBhbnN3ZXI6IHN0cmluZyB8IHN0cmluZ1tdXHJcbiAgfVtdXHJcbiAgc2NvcmU6IG51bWJlclxyXG4gIG1heFNjb3JlOiBudW1iZXJcclxuICB0aW1lU3BlbnQ6IG51bWJlciAvLyBpbiBtaW51dGVzXHJcbiAgc3VibWl0dGVkQXQ6IERhdGVcclxuICBpc0dyYWRlZDogYm9vbGVhblxyXG4gIGZlZWRiYWNrPzogc3RyaW5nXHJcbiAgY3JlYXRlZEF0OiBEYXRlXHJcbiAgdXBkYXRlZEF0OiBEYXRlXHJcbn1cclxuXHJcbmNvbnN0IFF1aXpTdWJtaXNzaW9uU2NoZW1hID0gbmV3IFNjaGVtYTxJUXVpelN1Ym1pc3Npb24+KHtcclxuICBxdWl6OiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdRdWl6JyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzdHVkZW50OiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBhbnN3ZXJzOiBbe1xyXG4gICAgcXVlc3Rpb25JbmRleDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgYW5zd2VyOiB7XHJcbiAgICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5NaXhlZCxcclxuICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH1cclxuICB9XSxcclxuICBzY29yZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgbWF4U2NvcmU6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICB0aW1lU3BlbnQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzdWJtaXR0ZWRBdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IERhdGUubm93XHJcbiAgfSxcclxuICBpc0dyYWRlZDoge1xyXG4gICAgdHlwZTogQm9vbGVhbixcclxuICAgIGRlZmF1bHQ6IGZhbHNlXHJcbiAgfSxcclxuICBmZWVkYmFjazoge1xyXG4gICAgdHlwZTogU3RyaW5nXHJcbiAgfVxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlF1aXpTdWJtaXNzaW9uIHx8IG1vbmdvb3NlLm1vZGVsPElRdWl6U3VibWlzc2lvbj4oJ1F1aXpTdWJtaXNzaW9uJywgUXVpelN1Ym1pc3Npb25TY2hlbWEpXHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlF1aXpTdWJtaXNzaW9uU2NoZW1hIiwicXVpeiIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzdHVkZW50IiwiYW5zd2VycyIsInF1ZXN0aW9uSW5kZXgiLCJOdW1iZXIiLCJhbnN3ZXIiLCJNaXhlZCIsInNjb3JlIiwiZGVmYXVsdCIsIm1heFNjb3JlIiwidGltZVNwZW50Iiwic3VibWl0dGVkQXQiLCJEYXRlIiwibm93IiwiaXNHcmFkZWQiLCJCb29sZWFuIiwiZmVlZGJhY2siLCJTdHJpbmciLCJ0aW1lc3RhbXBzIiwibW9kZWxzIiwiUXVpelN1Ym1pc3Npb24iLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/QuizSubmission.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquizzes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CLithium360%5CDesktop%5CPROJECTS%5CEduSphere&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();